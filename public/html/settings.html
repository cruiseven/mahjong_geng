<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Mahjong Game</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container">
        <h1>公共账户设置</h1>
        
        <div class="settings-section">
            <h2>公共账户规则设置</h2>
            
            <!-- 规则1：公共账户比例设置 -->
            <div class="setting-item">
                <label for="commission-rate-setting">规则1：公共账户比例 (%)</label>
                <input type="number" id="commission-rate-setting" min="0" max="100" step="0.1" placeholder="请输入公共账户比例">
                <p class="setting-desc">设置抽取公共账户的百分比，例如输入5表示5%</p>
            </div>
            
            <!-- 规则2：抽公共账户门槛设置 -->
            <div class="setting-item">
                <label for="commission-threshold-setting">规则2：抽公共账户门槛 (元)</label>
                <input type="number" id="commission-threshold-setting" min="0" step="0.01" placeholder="请输入抽公共账户门槛">
                <p class="setting-desc">当赢家总金额高于此值时，才会抽取公共账户</p>
            </div>
            
            <!-- 保存按钮 -->
        <div class="buttons-section">
            <button id="save-settings">保存设置</button>
            <button id="back-to-main">返回首页</button>
            <button id="back-to-admin">返回管理员面板</button>
        </div>
            
            <!-- GitHub同步设置 -->
            <div class="admin-section" style="margin-top: 20px;">
                <h2>GitHub数据同步</h2>
                <p>配置GitHub API令牌以实现多设备数据同步</p>
                
                <div class="setting-item">
                    <label for="github-token">GitHub API令牌</label>
                    <input type="password" id="github-token" placeholder="请输入GitHub API令牌">
                    <p class="setting-desc">获取令牌：登录GitHub → Settings → Developer settings → Personal access tokens → Generate new token</p>
                    <p class="setting-desc">权限要求：需要勾选 "repo" 权限</p>
                </div>
                
                <div class="buttons-section">
                    <button id="save-github-token">保存令牌</button>
                    <button id="sync-to-github">同步到GitHub</button>
                    <button id="sync-from-github">从GitHub同步</button>
                    <button id="sync-both">双向同步</button>
                </div>
                
                <div id="sync-status" class="settings-tip" style="margin-top: 10px; display: none;">
                    <p id="sync-message">同步状态：未同步</p>
                    <p id="last-sync-time">上次同步：从未</p>
                </div>
            </div>
            
            <!-- 设置提示 -->
            <div class="settings-tip">
                <p>💡 提示：设置保存后立即生效，刷新页面即可看到更新</p>
            </div>
        </div>
        

    </div>
    
    <script type="module" src="../js/settings.js"></script>
</body>
</html>